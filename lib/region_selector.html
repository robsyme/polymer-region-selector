<!DOCTYPE html>

<script type="application/dart" src="region_selector.dart"></script>
<polymer-element name="region-selector" attributes="regionStart regionStop totalLength">
  <template>
    <style>
      #minimap {
        height: 100px;
        width: 100%;
      }
      
      #sequenceMarkerRegion {
        fill: rgba(190, 190, 190, 0.27);
        cursor: move;
      }
      
      #sequenceMarkerRegion:hover {
        fill: #D5D5D5;
      }
      
      .resize:hover path {
        fill: #D5D5D5;
      }
      
      .resize path {
        fill: #eee;
        stroke: #666;
      }
      
      #scaleGroup {
        pointer-events: none;
      }
      
      #scaleGroup line {
        stroke: steelblue;
      }
    </style>
    <svg id="minimap" on-mousewheel="{{mousewheel}}" on-mousemove="{{mousemove}}" on-mousedown="{{selectReset}}" on-mouseup="{{endSelection}}" on-mouseleave="{{endSelection}}">
      <rect class="background" x="0" width="100%" height="100%" style="fill-opacity:0; cursor:crosshair;"></rect>
      <g id="scaleGroup">
      </g>
      <g id="minimapSelector">
        <rect id="sequenceMarkerRegion" class="" x="{{pxStart}}" y="2" width="{{pxStop - pxStart}}" height="46" rx="3" ry="3" on-mousedown="{{selectMarkerRegion}}"></rect>
        <g id="sequenceStartMarker" class="resize west" transform="translate({{pxStart}}, 0)" style="cursor: ew-resize;" on-mousedown="{{selectStartMarker}}">
          <rect x="-3" width="10" height="50" style="visibility: hidden;" on-mousedown="{{selectStartMarker}}"></rect>
          <path transform="translate(0,-25)" d="M -0.5 33.333333333333336 A 6 6 0 0 0 -6.5 39.333333333333336 V 60.66666666666667 A 6 6 0 0 0 -0.5 66.66666666666667 Z M -2.5 41.333333333333336 V 58.66666666666667 M -4.5 41.333333333333336 V 58.66666666666667"></path>
        </g>
        <g id="sequenceStopMarker" class="resize east" transform="translate({{pxStop}}, 0)" style="cursor: ew-resize;" on-mousedown="{{selectStopMarker}}">
          <rect x="-3" width="10" height="50" style="visibility: hidden;" on-mousedown="{{selectStopMarker}}"></rect>
          <path transform="translate(0, -25)" d="M 0.5 33.333333333333336 A 6 6 0 0 1 6.5 39.333333333333336 V 60.66666666666667 A 6 6 0 0 1 0.5 66.66666666666667 Z M 2.5 41.333333333333336 V 58.66666666666667 M 4.5 41.333333333333336 V 58.66666666666667"></path>
        </g>
      </g>
    </svg>
  </template>
</polymer-element>
